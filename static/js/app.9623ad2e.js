!function(c){function e(e){for(var t,a,n=e[0],r=e[1],i=e[2],o=0,l=[];o<n.length;o++)a=n[o],Object.prototype.hasOwnProperty.call(u,a)&&u[a]&&l.push(u[a][0]),u[a]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t]);for(h&&h(e);l.length;)l.shift()();return f.push.apply(f,i||[]),s()}function s(){for(var e,t=0;t<f.length;t++){for(var a=f[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==u[i]&&(n=!1)}n&&(f.splice(t--,1),e=v(v.s=a[0]))}return e}var a={},u={app:0},f=[];function v(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,v),t.l=!0,t.exports}v.e=function(r){var e,t=[],a=u[r];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(e,t){a=u[r]=[e,t]});t.push(a[2]=n);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,v.nc&&o.setAttribute("nonce",v.nc),o.src=v.p+"js/"+({about:"about"}[e=r]||e)+"."+{about:"04dcbc6f"}[e]+".js";var l=new Error;i=function(e){o.onerror=o.onload=null,clearTimeout(c);var t=u[r];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+r+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,t[1](l)}u[r]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:o})},12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(t)},v.m=c,v.c=a,v.d=function(e,t,a){v.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},v.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.t=function(t,e){if(1&e&&(t=v(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(v.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)v.d(a,n,function(e){return t[e]}.bind(null,n));return a},v.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return v.d(t,"a",t),t},v.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},v.p="",v.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var r=0;r<t.length;r++)e(t[r]);var h=n;f.push([0,"chunk-vendors"]),s()}({0:function(e,t,a){e.exports=a("cd49")},"287d":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var n=a("9c0c");a.n(n).a},"9c0c":function(e,t,a){},ae05:function(e,t,a){"use strict";var n=a("c4eb");a.n(n).a},c4eb:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t),a("e260"),a("e6cf"),a("cca6"),a("a79d");var u,r,n=a("2b0e"),i=(a("5c0b"),a("2877")),o=Object(i.a)({},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},[],!1,null,null,null).exports,l=(a("d3b7"),a("8c4f")),c=(a("b0c0"),a("d4ec")),s=a("bee2"),f=a("99de"),v=a("7e84"),h=a("262e"),p=a("9ab4"),m=a("60a3"),d=a("bc3a"),b=a.n(d),g=["(255, 255, 255)","(0, 171, 255)","(255, 171, 0)","(0, 255, 171) "],j={},y=8,O=15,k=30,w=30,_=800,x=800;function C(){r.globalAlpha=1,r.fillStyle="rgb(0, 0, 0)",r.fillRect(0,0,_,x),r.globalAlpha=1;for(var e=0;e<O;e++)for(var t=0;t<y;t++){var a=e*(w+1),n=t*(k+1);r.fillStyle="rgb"+g[j[e][t]],r.fillRect(n,a,k,w)}}var S,P=(Object(s.a)(H,[{key:"newBlocks",value:function(){var e,t,a=0,n=0;for(a=0;a<O;a++)for(n=0;n<y;n++){if(0==a){if(0!=j[a][n])return this.gameOver=!0,void(null!=this.gameOverCallback&&this.gameOverCallback())}else j[a-1][n]=j[a][n];a==O-1&&(j[a][n]=(e=1,t=3,Math.floor(Math.random()*(t-e+1))+e))}}},{key:"deleteblock",value:function(e,t,a){var n=1,r={i:0,j:0};return(j[e.i][e.j]=0)!=e.i&&j[e.i-1][e.j]==t&&(r.i=e.i-1,r.j=e.j,n+=this.deleteblock(r,t,a+1)),e.j!=y-1&&j[e.i][e.j+1]==t&&(r.i=e.i,r.j=e.j+1,n+=this.deleteblock(r,t,a+1)),e.i!=O-1&&j[e.i+1][e.j]==t&&(r.i=e.i+1,r.j=e.j,n+=this.deleteblock(r,t,a+1)),0!=e.j&&j[e.i][e.j-1]==t&&(r.i=e.i,r.j=e.j-1,n+=this.deleteblock(r,t,a+1)),n}},{key:"initMAP",value:function(){if(null!=(u=document.getElementById("cvs"))){for(var e=0;e<O;e++){void 0===j[e]&&(j[e]={});for(var t=0;t<y;t++)j[e][t]=0}if(0==this.handleInit){if(r=u.getContext("2d"),null==u)return;u.addEventListener("click",this.proc),r.globalAlpha=.2,r.fillStyle="rgb(0, 171, 255)",r.fillRect(0,0,_,x),r.globalAlpha=1,this.handleInit=!0}this.newBlocks()}}},{key:"startGame",value:function(){this.initMAP(),this.score=0,this.gameOver=!1,C()}}]),H),R=(S=m.b,Object(h.a)(E,S),Object(s.a)(E,[{key:"mounted",value:function(){this.game.startGame(),this.game.gameOverCallback=this.gameOverCallback}},{key:"gameOverCallback",value:function(){var t=this;this.RankList=[],b.a.post("/api/poptilerank",{UserName:this.name,Score:this.game.score,TouchCount:0,CheckSumSha256:""}).then(function(e){t.RankList=e.data.RankList})}},{key:"startBtnHandle",value:function(){0<this.name.length&&(this.gameStart=!0)}},{key:"retryGame",value:function(){this.game.startGame()}}]),E);function E(){var e;return Object(c.a)(this,E),(e=Object(f.a)(this,Object(v.a)(E).apply(this,arguments))).game=new P,e.gameStart=!1,e.name="",e.RankList=[],e}function H(){var s=this;Object(c.a)(this,H),this.proc=function(e){if(null!=u){var t=(l=e,c=u.getBoundingClientRect(),{x:l.clientX-c.left,y:l.clientY-c.top}),a=t.x,n=t.y,r=Math.floor(a/(k+1)),i=Math.floor(n/(w+1));if(!(O<=i||y<=r)&&0!=j[i][r]){var o=s.deleteblock({i:i,j:r},j[i][r],1);s.score+=(o*o+o)/2,C(),function(){for(var e=!0;e;){e=!1;for(var t=O-1;0<t;t--)for(var a=0;a<y;a++)0==j[t][a]&&0!=j[t-1][a]&&(j[t][a]=j[t-1][a],e=!(j[t-1][a]=0))}}(),s.newBlocks(),C()}}var l,c},this.score=0,this.gameOver=!1,this.handleInit=!1,this.gameOverCallback=null}var M,A=R=Object(p.a)([m.a],R),L=(a("fcd5"),Object(i.a)(A,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poptile"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.gameStart,expression:"!gameStart"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("p"),a("input",{staticClass:"btn btn-outline-primary",attrs:{type:"button",value:"start"},on:{click:t.startBtnHandle}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.gameStart,expression:"gameStart"}]},[a("h2",[t._v(" ["+t._s(t.name)+"] SCORE : "+t._s(t.game.score))]),t.game.gameOver?a("div",[a("h1",[t._v(" GAME OVER ")]),a("h1",{staticClass:"retry",on:{click:t.retryGame}},[t._v(" RETRY? ")]),t._v(" "),a("br")]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.game.gameOver,expression:"!game.gameOver"}]},[a("canvas",{attrs:{id:"cvs",width:"245px",height:"460px"}})])]),t.game.gameOver?a("hr"):t._e(),t.game.gameOver&&0<t.RankList.length?a("div",t._l(t.RankList,function(e){return a("p",{key:e.UserName},[t._v(" "+t._s(e.UserName)+" : "+t._s(e.Score)+" ")])}),0):t._e()])},[],!1,null,"349895d2",null)).exports,N=(M=m.b,Object(h.a)(B,M),Object(s.a)(B,[{key:"toggle",value:function(){this.showHint=!this.showHint}}]),B);function B(){var e;return Object(c.a)(this,B),(e=Object(f.a)(this,Object(v.a)(B).apply(this,arguments))).showHint=!1,e}var T=N=Object(p.a)([m.a],N),G={name:"Home",components:{Poptile:L,Help:(a("ae05"),Object(i.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"help"},[a("div",{on:{click:e.toggle}},[a("h1",{class:{active:e.showHint}},[e._v("사용법")])]),a("transition",{attrs:{name:"bounce"}},[e.showHint?a("div",{staticClass:"help-text"},[a("p",[e._v("1. 타일이 최대 높이를 넘으면 게임이 종료됩니다.")]),a("p",[e._v(" 2. 타일을 선택하면 선택된 타일과 인접한 같은 색의 타일이 지워지고 타일이 아래에서 올라옵니다. ")]),a("p",[e._v("3. 이름을 입력하면 이름으로 점수가 등록됩니다.")])]):e._e()])],1)},[],!1,null,"fbec8f70",null)).exports}},$=Object(i.a)(G,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"home"},[t("Help"),t("Poptile")],1)},[],!1,null,null,null).exports;n.default.use(l.a);var I=[{path:"/static/index.html",name:"Home",component:$},{path:"/",name:"Home",component:$},{path:"/rank",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],U=new l.a({mode:"history",base:"",routes:I}),J=a("a7fe"),Y=a.n(J),q=a("5f5b"),V=a("b1e0");a("f9e3"),a("2dd8"),n.default.use(Y.a,b.a),n.default.config.productionTip=!0,n.default.use(q.a),n.default.use(V.a),new n.default({router:U,render:function(e){return e(o)}}).$mount("#app")},fcd5:function(e,t,a){"use strict";var n=a("287d");a.n(n).a}});