!function(t){function e(e){for(var n,o,c=e[0],s=e[1],l=e[2],f=0,h=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(u&&u(e);h.length;)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e,a=[],n=r[t];if(0!==n)if(n)a.push(n[2]);else{var i=new Promise((function(e,a){n=r[t]=[e,a]}));a.push(n[2]=i);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=o.p+"js/"+({about:"about"}[e=t]||e)+"."+{about:"9275a0e1"}[e]+".js";var l=new Error;c=function(e){s.onerror=s.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,a[1](l)}r[t]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:s})}),12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(a)},o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;i.push([0,"chunk-vendors"]),a()}({0:function(t,e,a){t.exports=a("cd49")},"059f":function(t,e,a){"use strict";var n=a("80da");a.n(n).a},"0d4c":function(t,e,a){},"21bb":function(t,e,a){"use strict";var n=a("2dad");a.n(n).a},"2dad":function(t,e,a){},3115:function(t,e,a){"use strict";var n=a("fcf2");a.n(n).a},"5c0b":function(t,e,a){"use strict";var n=a("9c0c");a.n(n).a},"774b":function(t,e,a){"use strict";var n=a("d4ec"),r=a("99de"),i=a("7e84"),o=a("262e"),c=a("9ab4"),s=a("60a3"),l=function(t){function e(){var t;return Object(n.a)(this,e),(t=Object(r.a)(this,Object(i.a)(e).apply(this,arguments))).RankList=[],t}return Object(o.a)(e,t),e}(s.c);Object(c.a)([Object(s.b)({default:[]})],l.prototype,"RankList",void 0);var u=l=Object(c.a)([s.a],l),f=(a("059f"),a("2877")),h=Object(f.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Rank"},[t.RankList&&0<t.RankList.length?a("div",[a("h1",[t._v(" RANK ")]),a("div",[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.RankList,(function(e,n){return a("tr",{key:n},[a("td",{staticClass:"name"},[t._v(" "+t._s(e.UserName))]),a("td",[t._v(" "+t._s(e.Score))]),a("td",[t._v(" "+t._s(e.TouchCount))]),a("td",[t._v(" "+t._s((""+e.Score/e.TouchCount).substring(0,5)))])])})),0)])])]):t._e()])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",[t._v("Name")]),a("th",[t._v("Score")]),a("th",[t._v("Touch")]),a("th",[t._v("Score/Touch")])])])}],!1,null,"5b925cb4",null);e.a=h.exports},"80da":function(t,e,a){},"9c0c":function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,r,i=a("2b0e"),o=(a("5c0b"),a("2877")),c=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)}),[],!1,null,null,null).exports,s=(a("d3b7"),a("8c4f")),l=(a("b0c0"),a("d4ec")),u=a("bee2"),f=a("99de"),h=a("7e84"),v=a("262e"),d=a("9ab4"),m=a("774b"),p=a("60a3"),b=a("bc3a"),g=a.n(b),j=["(255, 255, 255)","(0, 171, 255)","(255, 171, 0)","(0, 255, 171) "],k={},O=8,_=15,y=30,w=30,C=800,R=800;function x(){r.globalAlpha=1,r.fillStyle="rgb(0, 0, 0)",r.fillRect(0,0,C,R),r.globalAlpha=1;for(var t=0;t<_;t++)for(var e=0;e<O;e++){var a=t*(w+1),n=e*(y+1);r.fillStyle="rgb"+j[k[t][e]],r.fillRect(n,a,y,w)}}var S=function(){function t(){var e=this;Object(l.a)(this,t),this.proc=function(t){if(null!=n){var a,r,i=(a=t,r=n.getBoundingClientRect(),{x:a.clientX-r.left,y:a.clientY-r.top}),o=i.x,c=i.y,s=Math.floor(o/(y+1)),l=Math.floor(c/(w+1));if(!(_<=l||O<=s)&&0!=k[l][s]){var u=e.deleteblock({i:l,j:s},k[l][s],1);e.touchcount+=1,e.score+=u*u,x(),function(){for(var t=!0;t;){t=!1;for(var e=_-1;0<e;e--)for(var a=0;a<O;a++)0==k[e][a]&&0!=k[e-1][a]&&(k[e][a]=k[e-1][a],t=!(k[e-1][a]=0))}}(),e.newBlocks(),x()}}},this.score=0,this.touchcount=0,this.gameOver=!1,this.handleInit=!1,this.gameOverCallback=null}return Object(u.a)(t,[{key:"newBlocks",value:function(){var t,e,a=0,n=0;for(a=0;a<_;a++)for(n=0;n<O;n++){if(0==a){if(0!=k[a][n])return this.gameOver=!0,void(null!=this.gameOverCallback&&this.gameOverCallback())}else k[a-1][n]=k[a][n];a==_-1&&(k[a][n]=(t=1,e=3,Math.floor(Math.random()*(e-t+1))+t))}}},{key:"deleteblock",value:function(t,e,a){var n=1,r={i:0,j:0};return(k[t.i][t.j]=0)!=t.i&&k[t.i-1][t.j]==e&&(r.i=t.i-1,r.j=t.j,n+=this.deleteblock(r,e,a+1)),t.j!=O-1&&k[t.i][t.j+1]==e&&(r.i=t.i,r.j=t.j+1,n+=this.deleteblock(r,e,a+1)),t.i!=_-1&&k[t.i+1][t.j]==e&&(r.i=t.i+1,r.j=t.j,n+=this.deleteblock(r,e,a+1)),0!=t.j&&k[t.i][t.j-1]==e&&(r.i=t.i,r.j=t.j-1,n+=this.deleteblock(r,e,a+1)),n}},{key:"initMAP",value:function(){if(null!=(n=document.getElementById("cvs"))){for(var t=0;t<_;t++){void 0===k[t]&&(k[t]={});for(var e=0;e<O;e++)k[t][e]=0}if(0==this.handleInit){if(r=n.getContext("2d"),null==n)return;n.addEventListener("click",this.proc),r.globalAlpha=.2,r.fillStyle="rgb(0, 171, 255)",r.fillRect(0,0,C,R),r.globalAlpha=1,this.handleInit=!0}this.newBlocks()}}},{key:"startGame",value:function(){this.initMAP(),this.score=0,this.touchcount=0,this.gameOver=!1,x()}}]),t}(),E=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(f.a)(this,Object(h.a)(e).apply(this,arguments))).game=new S,t.gameStart=!1,t.name="",t.RankList=[],t}return Object(v.a)(e,t),Object(u.a)(e,[{key:"mounted",value:function(){this.game.startGame(),this.game.gameOverCallback=this.gameOverCallback}},{key:"gameOverCallback",value:function(){var t=this;this.RankList=[],g.a.post("/api/poptilerank",{UserName:this.name,Score:this.game.score,TouchCount:this.game.touchcount,CheckSumSha256:""}).then((function(e){t.RankList=e.data.RankList}))}},{key:"startBtnHandle",value:function(){0<this.name.length&&(this.gameStart=!0)}},{key:"retryGame",value:function(){this.game.startGame()}}]),e}(p.c),P=E=Object(d.a)([Object(p.a)({name:"poptile",components:{Rank:m.a}})],E),L=(a("3115"),Object(o.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poptile"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.gameStart,expression:"!gameStart"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",maxlength:"30"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("p"),a("input",{staticClass:"btn btn-outline-primary",attrs:{type:"button",value:"START!"},on:{click:t.startBtnHandle}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.gameStart,expression:"gameStart"}]},[a("h2",[t._v(" ["+t._s(t.name)+"] SCORE : "+t._s(t.game.score))]),t.game.gameOver?a("div",[a("h1",[t._v(" GAME OVER ")]),a("h1",{staticClass:"retry",on:{click:t.retryGame}},[t._v(" RETRY? ")]),t._v(" "),a("br")]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.game.gameOver,expression:"!game.gameOver"}]},[a("canvas",{attrs:{id:"cvs",width:"245px",height:"460px"}})])]),t.game.gameOver?a("hr"):t._e(),t.game.gameOver?a("Rank",{attrs:{RankList:t.RankList}}):t._e(),t.gameStart?t._e():a("div",{attrs:{id:"nav"}},[a("router-link",{staticClass:"btn btn-outline-info",attrs:{to:"/rank"}},[t._v("RANK")])],1)],1)}),[],!1,null,"092d9be5",null).exports),T=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(f.a)(this,Object(h.a)(e).apply(this,arguments))).showHint=!1,t}return Object(v.a)(e,t),Object(u.a)(e,[{key:"toggle",value:function(){this.showHint=!this.showHint}}]),e}(p.c),H=T=Object(d.a)([p.a],T),A=(a("dd79"),{name:"Home",components:{Poptile:L,Help:Object(o.a)(H,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"help"},[a("div",{on:{click:t.toggle}},[a("h1",{class:{active:t.showHint}},[t._v("사용법")])]),a("transition",{attrs:{name:"bounce"}},[t.showHint?a("div",{staticClass:"help-text"},[a("p",[t._v("1. 타일이 최대 높이를 넘으면 게임이 종료됩니다.")]),a("p",[t._v(" 2. 타일을 선택하면 선택된 타일과 인접한 같은 색의 타일이 지워지고 타일이 아래에서 올라옵니다. ")]),a("p",[t._v("3. 이름을 입력하면 이름으로 점수가 등록됩니다.")])]):t._e()])],1)}),[],!1,null,"380e43d9",null).exports}}),M=(a("21bb"),Object(o.a)(A,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("Help"),e("Poptile")],1)}),[],!1,null,null,null).exports);i.default.use(s.a);var N=[{path:"/static/index.html",name:"Home",component:M},{path:"/",name:"Home",component:M},{path:"/rank",name:"RankPage",component:function(){return a.e("about").then(a.bind(null,"17f1"))}}],B=new s.a({mode:"history",base:"",routes:N}),$=a("a7fe"),G=a.n($),I=a("5f5b"),J=a("b1e0");a("f9e3"),a("2dd8"),i.default.use(G.a,g.a),i.default.config.productionTip=!0,i.default.use(I.a),i.default.use(J.a),new i.default({router:B,render:function(t){return t(c)}}).$mount("#app")},dd79:function(t,e,a){"use strict";var n=a("0d4c");a.n(n).a},fcf2:function(t,e,a){}});