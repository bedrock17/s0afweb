!function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],h=0,f=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(u&&u(e);f.length;)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e,n=[],a=r[t];if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((function(e,n){a=r[t]=[e,n]}));n.push(a[2]=i);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=o.p+"js/"+({about:"about"}[e=t]||e)+"."+{about:"85586ec2"}[e]+".js";var l=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(n)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()}({0:function(t,e,n){t.exports=n("cd49")},"0d4c":function(t,e,n){},"21bb":function(t,e,n){"use strict";var a=n("2dad");n.n(a).a},"2dad":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("9c0c");n.n(a).a},"774b":function(t,e,n){"use strict";var a=n("d4ec"),r=n("99de"),i=n("7e84"),o=n("262e"),s=n("9ab4"),c=n("60a3"),l=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(r.a)(this,Object(i.a)(e).apply(this,arguments))).RankList=[],t}return Object(o.a)(e,t),e}(c.c);Object(s.a)([Object(c.b)({default:[]})],l.prototype,"RankList",void 0);var u=l=Object(s.a)([c.a],l),h=(n("bf2c"),n("2877")),f=Object(h.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Rank"},[t.RankList&&0<t.RankList.length?n("div",[n("h1",[t._v(" RANK ")]),n("div",[n("table",{staticClass:"table"},[t._m(0),n("tbody",t._l(t.RankList,(function(e,a){return n("tr",{key:a},[n("td",{staticClass:"name"},[t._v(" "+t._s(e.UserName))]),n("td",[t._v(" "+t._s(e.Score))]),n("td",[t._v(" "+t._s(e.TouchCount))]),n("td",[t._v(" "+t._s((""+e.Score/e.TouchCount).substring(0,5)))])])})),0)])])]):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"thead-dark"},[n("tr",[n("th",[t._v("Name")]),n("th",[t._v("Score")]),n("th",[t._v("Touch")]),n("th",[t._v("Score/Touch")])])])}],!1,null,"39089f37",null);e.a=f.exports},"8ca2":function(t,e,n){},"9c0c":function(t,e,n){},a4da:function(t,e,n){"use strict";var a=n("8ca2");n.n(a).a},bf2c:function(t,e,n){"use strict";var a=n("e233");n.n(a).a},cd49:function(t,e,n){"use strict";n.r(e),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,r,i=n("2b0e"),o=(n("5c0b"),n("2877")),s=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)}),[],!1,null,null,null).exports,c=(n("d3b7"),n("8c4f")),l=(n("b0c0"),n("25f0"),n("d4ec")),u=n("bee2"),h=n("99de"),f=n("7e84"),v=n("262e"),d=n("9ab4"),m=n("774b"),p=n("60a3"),b=n("bc3a"),g=n.n(b),k=(n("96cf"),n("1da1")),y=["(255, 255, 255)","(0, 171, 255)","(255, 171, 0)","(0, 255, 171)"],j={};function O(t){return new Promise((function(e){return setTimeout(e,t)}))}var _=function(){function t(){var e=this;Object(l.a)(this,t),this.proc=function(t){if(null!=a){var n,r,i=(n=t,r=a.getBoundingClientRect(),{x:n.clientX-r.left,y:n.clientY-r.top}),o=i.x,s=i.y,c=Math.floor(o/31),l=Math.floor(s/31);15<=l||8<=c||0!=j[l][c]&&(e.lastPos={y:l,x:c})}},this.score=0,this.touchcount=0,this.gameOver=!1,this.handleInit=!1,this.gameOverCallback=null,this.lastPos={y:-1,x:-1}}var e;return Object(u.a)(t,[{key:"draw",value:function(){r.globalAlpha=1,r.fillStyle="rgb(0, 0, 0)",r.fillRect(0,0,800,800),r.globalAlpha=1;for(var t=Math.floor(255-this.score/100%256),e="("+t+","+t+","+t+")",n=0;n<15;n++)for(var a=0;a<8;a++){var i=31*n,o=31*a,s=y[j[n][a]];0==j[n][a]&&(s=e),r.fillStyle="rgb"+s,r.fillRect(o,i,31,31)}}},{key:"newBlocks",value:function(){var t,e,n=0,a=0;for(n=0;n<15;n++)for(a=0;a<8;a++){if(0==n){if(0!=j[n][a])return this.gameOver=!0,void(null!=this.gameOverCallback&&this.gameOverCallback())}else j[n-1][a]=j[n][a];14==n&&(j[n][a]=(t=1,e=3,Math.floor(Math.random()*(e-t+1))+t))}}},{key:"gameProcLoop",value:(e=Object(k.a)(regeneratorRuntime.mark((function t(){var e,n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!1;case 1:if(this.gameOver){t.next=15;break}return t.next=4,O(100);case 4:for(0<=this.lastPos.x&&0<=this.lastPos.y&&(n=this.deleteblock({i:this.lastPos.y,j:this.lastPos.x},j[this.lastPos.y][this.lastPos.x],1),this.touchcount+=1,this.score+=n*n,this.lastPos={y:-1,x:-1},e=!0),a=14;0<a;a--)for(r=0;r<8;r++)0==j[a][r]&&0!=j[a-1][r]&&(j[a][r]=j[a-1][r],j[a-1][r]=0);if(this.draw(),e)return this.newBlocks(),e=!1,this.draw(),t.next=13,O(100);t.next=13;break;case 13:t.next=1;break;case 15:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"deleteblock",value:function(t,e,n){var a=1,r={i:0,j:0};return(j[t.i][t.j]=0)!=t.i&&j[t.i-1][t.j]==e&&(r.i=t.i-1,r.j=t.j,a+=this.deleteblock(r,e,n+1)),7!=t.j&&j[t.i][t.j+1]==e&&(r.i=t.i,r.j=t.j+1,a+=this.deleteblock(r,e,n+1)),14!=t.i&&j[t.i+1][t.j]==e&&(r.i=t.i+1,r.j=t.j,a+=this.deleteblock(r,e,n+1)),0!=t.j&&j[t.i][t.j-1]==e&&(r.i=t.i,r.j=t.j-1,a+=this.deleteblock(r,e,n+1)),a}},{key:"initMAP",value:function(){if(null!=(a=document.getElementById("cvs"))){for(var t=0;t<15;t++){void 0===j[t]&&(j[t]={});for(var e=0;e<8;e++)j[t][e]=0}if(0==this.handleInit){if(r=a.getContext("2d"),null==a)return;a.addEventListener("click",this.proc),r.globalAlpha=.2,r.fillStyle="rgb(0, 171, 255)",r.fillRect(0,0,800,800),r.globalAlpha=1,this.handleInit=!0}this.newBlocks()}}},{key:"startGame",value:function(){this.initMAP(),this.score=0,this.touchcount=0,this.gameOver=!1,this.gameProcLoop()}}]),t}();function w(t){function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,e){return t>>>e|t<<32-e}function a(t,e){return t>>>e}return function(t){for(var e="0123456789abcdef",n="",a=0;a<4*t.length;a++)n+=e.charAt(t[a>>2]>>8*(3-a%4)+4&15)+e.charAt(t[a>>2]>>8*(3-a%4)&15);return n}(function(t,r){var i,o,s,c,l,u,h,f,v,d,m,p,b,g,k,y,j,O,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],C=new Array(64);t[r>>5]|=128<<24-r%32,t[15+(r+64>>9<<4)]=r;for(var x=0;x<t.length;x+=16){i=w[0],o=w[1],s=w[2],c=w[3],l=w[4],u=w[5],h=w[6],f=w[7];for(var R=0;R<64;R++)C[R]=R<16?t[R+x]:e(e(e(n(O=C[R-2],17)^n(O,19)^a(O,10),C[R-7]),n(j=C[R-15],7)^n(j,18)^a(j,3)),C[R-16]),v=e(e(e(e(f,n(y=l,6)^n(y,11)^n(y,25)),(k=l)&u^~k&h),_[R]),C[R]),d=e(n(g=i,2)^n(g,13)^n(g,22),(m=i)&(p=o)^m&(b=s)^p&b),f=h,h=u,u=l,l=e(c,v),c=s,s=o,o=i,i=e(v,d);w[0]=e(i,w[0]),w[1]=e(o,w[1]),w[2]=e(s,w[2]),w[3]=e(c,w[3]),w[4]=e(l,w[4]),w[5]=e(u,w[5]),w[6]=e(h,w[6]),w[7]=e(f,w[7])}return w}(function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var a=t.charCodeAt(n);a<128?e+=String.fromCharCode(a):(127<a&&a<2048?e+=String.fromCharCode(a>>6|192):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128)),e+=String.fromCharCode(63&a|128))}return e}(t)),8*t.length))}n("ac1f"),n("5319");var C=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(h.a)(this,Object(f.a)(e).apply(this,arguments))).game=new _,t.gameStart=!1,t.name="",t.RankList=[],t}return Object(v.a)(e,t),Object(u.a)(e,[{key:"mounted",value:function(){this.game.startGame(),this.game.gameOverCallback=this.gameOverCallback}},{key:"gameOverCallback",value:function(){var t=this;this.RankList=[],g.a.post("/api/poptilerank",{UserName:this.name,Score:this.game.score,TouchCount:this.game.touchcount,Check:w(this.name+(this.game.score+this.game.touchcount).toString())}).then((function(e){t.RankList=e.data.RankList}))}},{key:"startBtnHandle",value:function(){this.gameStart=!0}},{key:"retryGame",value:function(){this.game.startGame()}}]),e}(p.c),x=C=Object(d.a)([Object(p.a)({name:"poptile",components:{Rank:m.a}})],C),R=(n("a4da"),Object(o.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"poptile"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.gameStart,expression:"!gameStart"}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",maxlength:"30"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("p"),n("input",{staticClass:"btn btn-outline-primary",attrs:{type:"button",value:"START!"},on:{click:t.startBtnHandle}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.gameStart,expression:"gameStart"}]},[n("h2",[t._v(" ["+t._s(t.name)+"] SCORE : "+t._s(t.game.score))]),t.game.gameOver?n("div",[n("h1",[t._v(" GAME OVER ")]),n("h1",{staticClass:"retry",on:{click:t.retryGame}},[t._v(" RETRY? ")]),t._v(" "),n("br")]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.game.gameOver,expression:"!game.gameOver"}]},[n("canvas",{attrs:{id:"cvs",width:"245px",height:"460px"}})])]),t.game.gameOver?n("hr"):t._e(),t.game.gameOver?n("Rank",{attrs:{RankList:t.RankList}}):t._e(),t.gameStart?t._e():n("div",{attrs:{id:"nav"}},[n("router-link",{staticClass:"btn btn-outline-info",attrs:{to:"/rank"}},[t._v("RANK")])],1)],1)}),[],!1,null,"b87a3b00",null).exports),S=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(h.a)(this,Object(f.a)(e).apply(this,arguments))).showHint=!1,t}return Object(v.a)(e,t),Object(u.a)(e,[{key:"toggle",value:function(){this.showHint=!this.showHint}}]),e}(p.c),P=S=Object(d.a)([p.a],S),A=(n("dd79"),{name:"Home",components:{Poptile:R,Help:Object(o.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"help"},[n("div",{on:{click:t.toggle}},[n("h1",{class:{active:t.showHint}},[t._v("사용법")])]),n("transition",{attrs:{name:"bounce"}},[t.showHint?n("div",{staticClass:"help-text"},[n("p",[t._v("1. 타일이 최대 높이를 넘으면 게임이 종료됩니다.")]),n("p",[t._v(" 2. 타일을 선택하면 선택된 타일과 인접한 같은 색의 타일이 지워지고 타일이 아래에서 올라옵니다. ")]),n("p",[t._v("3. 이름을 입력하면 이름으로 점수가 등록됩니다.")])]):t._e()])],1)}),[],!1,null,"380e43d9",null).exports}}),L=(n("21bb"),Object(o.a)(A,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("Help"),e("Poptile")],1)}),[],!1,null,null,null).exports);i.default.use(c.a);var E=[{path:"/static/index.html",name:"Home",component:L},{path:"/",name:"Home",component:L},{path:"/rank",name:"RankPage",component:function(){return n.e("about").then(n.bind(null,"17f1"))}}],T=new c.a({mode:"history",base:"",routes:E}),H=n("a7fe"),M=n.n(H),N=n("5f5b"),B=n("b1e0");n("f9e3"),n("2dd8"),i.default.use(M.a,g.a),i.default.config.productionTip=!0,i.default.use(N.a),i.default.use(B.a),new i.default({router:T,render:function(t){return t(s)}}).$mount("#app")},dd79:function(t,e,n){"use strict";var a=n("0d4c");n.n(a).a},e233:function(t,e,n){}});